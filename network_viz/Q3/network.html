<!DOCTYPE html>
<html>
<head>
<style>

path.link {
  fill: none;
  /* stroke: #666; */
  stroke-width: 1.5px;
}

circle {
  /* fill: #ccc; */
  stroke: #fff;
  stroke: black;
  stroke-width: 1.5px;
}

text {
  fill: #000;
  font: 10px sans-serif;
  pointer-events: none;
}

</style>
<meta charset="utf-8">
<title></title></head>

<body>
<script type="text/javascript" src="../lib/d3.v5.min.js"></script>
<script>

d3.dsv(",", "pr_top_100.csv", function(d) {
  return {
    source: d.source,
    target: d.target,
    value: d.value
  }
}).then(function(data) {

  var links = data;

  var nodes = {};
  var node_degrees = {};

  // compute the distinct nodes from the links.
  links.forEach(function(link) {
      link.source = nodes[link.source] || (nodes[link.source] = {name: link.source});
      link.target = nodes[link.target] || (nodes[link.target] = {name: link.target});
  });

  // links.forEach(function(link) {

  // })
  console.log(links);
  console.log(nodes);


  var width = 1200,
      height = 700;

  var svg = d3.select("body").append("svg")
      .attr("width", width)
      .attr("height", height);

  
}).catch(function(error) {
  console.log(error);
});

</script>
</body>
</html>
